## 死锁简介

死锁是指两个或两个以上的进程在执行过程中，由于竞争资源或者由于彼此通信而造成的一种阻塞的现象，若无外力作用，它们都将无法推进下去

此时称系统处于死锁状态或系统产生了死锁，这些永远在互相等待的进程称为死锁进程

产生死锁的原因，主要包括：

- 系统资源不足
- 程序执行的顺序有问题
- 资源分配不当等

如果系统资源充足，进程的资源请求都能够得到满足，那么死锁出现的可能性就很低；否则，就会因争夺有限的资源而陷入死锁。其次，程序执行的顺序与速度不同，也可能产生死锁

产生死锁的四个必要条件：

- 互斥条件：一个资源每次只能被一个进程使用
- 请求与保持条件：一个进程因请求资源而阻塞时，对已获得的资源保持不放
- 不剥夺条件：进程已获得的资源，在末使用完之前，不能强行剥夺
- 循环等待条件：若干进程之间形成一种头尾相接的循环等待资源关系

### 如何解决死锁

理解了死锁的原因，尤其是产生死锁的四个必要条件，就可以最大可能地避免、预防和解除死锁。所以，在系统设计、进程调度等方面注意如何不让这四个必要条件成立就是避免、预防和解决死锁的最佳实践

- 如何确定资源的合理分配算法
- 避免进程永久占据系统资源

- 也要防止进程在处于等待状态的情况下占用资源

因此，对资源的分配要给予合理的规划