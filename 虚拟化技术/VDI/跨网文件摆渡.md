跨网文件摆渡：网络隔离后，不同网络之间就无法互传文件了，使得跨网业务无法顺利开展。为了寻找到一种安全可控、便捷高效的跨网文件摆渡的方法

中转站是一种单用户自投递的极简方式，用户在办公网中使用中转站功能上传文件，在研发网中登录账号即可下载改文件， 方便、高效、快捷实现跨网文件自投递

方式（1）FTP

FTP（文件传输协议）是一种常用的内外网文件传输方式。通过FTP服务器，我们可以通过用户名和密码进行登录，将文件从内网传输到外网或者从外网传输到内网。FTP传输速度较快，适合传输大文件和大量文件的场景。但需要注意的是，FTP传输过程中文件的安全性需要加密处理以防止信息泄露

方式（2）企业网盘进行数据交换

企业网盘是一种基于云存储的数据交换平台。通过将文件上传到企业网盘中，不论在内外网环境中，用户均可以通过访问企业网盘进行文件的共享和传输。企业网盘具备跨平台、跨地域、跨团队的特点，便于多人协作和信息共享，适用于日常办公和跨地区的文件传输需求。

内外网双企业网盘+网闸摆渡

企业一般会在外网和内网分别部署一个私有网盘，配置及存储结构保持一致。 网盘系统可能可以通过权限或审批的方式，将待发文件放置在网络一侧的指定位置，然后由网闸自动摆渡到网络另一侧的对应位置，而后另一侧的网盘系统就可以发现文件，可以被另一侧有权限的用户访问。

这种方式实际上是在文件物理移动的基础上，叠加了网盘的文件管理、易于访问等特性，因为要建设两套私有网盘，实施成本会增加不少。

安装 

```
dnf install vsftpd libpam-ldap
```

配置 `/etc/ldap.conf`

```conf
uri ldap://127.0.0.1					        # 指定 LDAP 服务器的 URL 路径
base dc=mywebpc,dc=com					      # 指定 Base DN（基准DN），LDAP 客户端将从此 Base DN 进行用户搜索
ldap_version 3							          # LDAP 协议版本，推荐3
rootbinddn cn=admin,dc=mywebpc,dc=com	# LDAP 服务器管理员用户的 DN
pam_login_attribute cn					      # 登录属性限制。只有存在这个属性的用户才允许登录
```

修改 `/etc/pam.d/vsftpd`

配置文件最下方追加如下两行：

```
auth required /lib/x86_64-linux-gnu/security/pam_ldap.so
account required /lib/x86_64-linux-gnu/security/pam_ldap.so
```

